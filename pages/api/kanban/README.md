# Документация API "Kanban"

Все апи работают с авторизацией:
- Авторизация по Bearer токену: передайте в заголовке Authorization пользовательский токен "Bearer ksdfsksdfjfsdjk". Токен можно получить в [апи авторизации](../user/README.md)

Запросы без авторизации возвращают 401 статус ответа

## Получить список задач

Адрес: https://wedev-api.sky.pro/api/kanban

Метод: GET

Возвращает статус код 200 и список задач в формате JSON, например:

```json
{
  "tasks": [
    {
      "_id": "659ad0aad0e154bebca2b6b3",
      "userId": "659abd3ad0e154bebca2b6b7",
      "title": "Новая задача 1!",
      "topic": "Research",
      "date": "2024-01-07T16:26:18.179Z",
      "description": "Подробное описание задачи",
      "status": "Без статуса"
    },
    {
      "_id": "659ad0aad0e154bebca2b6bb",
      "userId": "659abd3ad0e154bebca2b6b7",
      "title": "Новая задача 2!",
      "topic": "Research",
      "date": "2024-01-07T16:26:18.179Z",
      "description": "Подробное описание задачи",
      "status": "Без статуса"
    }
  ]
}
```

## Добавить задачу в список

Адрес: https://wedev-api.sky.pro/api/kanban

Метод: POST

Принимает данные задачи, описанной в формате JSON, например:

```json
{
    "title": "Новая задача 2!",
    "topic": "Research",
    "status": "Без статуса",
    "description": "Подробное описание задачи",
    "date": "2024-01-07T16:26:18.179Z",
}
```

Если заголовок не был введен, то по умолчанию устанавливается значение "Новая задача". 
Если тема не была введена, то по умолчанию устанавливается значение "Research". 
Если статус не был введен, то по умолчанию устанавливается значение "Без статуса". 
Если не было добавлено описание, то по умолчанию устанавливается пустая строка.
Если дата не была введена, то по умолчанию устанавливается текущая дата.

Возвращает статус код 201 и обновленный список задач, например:

```json
{
  "tasks": [
    {
      "_id": "659ad0aad0e154bebca2b6b3",
      "userId": "659abd3ad0e154bebca2b6b7",
      "title": "Новая задача 1!",
      "topic": "Research",
      "date": "2024-01-07T16:26:18.179Z",
      "description": "Подробное описание задачи",
      "status": "Без статуса"
    },
    {
      "_id": "659ad0aad0e154bebca2b6bb",
      "userId": "659abd3ad0e154bebca2b6b7",
      "title": "Новая задача 2!",
      "topic": "Research",
      "date": "2024-01-07T16:26:18.179Z",
      "description": "Подробное описание задачи",
      "status": "Без статуса"
    }
  ]
}
```

Возвращает статус код 400, если полученные данные не в формате JSON.

### Изменить задачу

Апи изменяет данные задачи.

Адрес: https://wedev-api.sky.pro/api/kanban/:id

Вместо :id нужно передать id задачи, данные которой нужно изменить. Например /kanban/64253cdbca1ce2a815a327d3

Метод: PUT

Принимает данные задачи, описанной в формате JSON, например:

```json
{
    "title": "Новая задача 2!",
    "topic": "Research",
    "status": "Без статуса",
    "description": "Подробное описание задачи",
    "date": "2024-01-07T16:26:18.179Z",
}
```

Возвращает статус код 201 и обновленный список задач, например:

```json
{
  "tasks": [
    {
      "_id": "659ad0aad0e154bebca2b6b3",
      "userId": "659abd3ad0e154bebca2b6b7",
      "title": "Новая задача 1!",
      "topic": "Research",
      "date": "2024-01-07T16:26:18.179Z",
      "description": "Подробное описание задачи",
      "status": "Без статуса"
    },
    {
      "_id": "659ad0aad0e154bebca2b6bb",
      "userId": "659abd3ad0e154bebca2b6b7",
      "title": "Новая задача 2!",
      "topic": "Research",
      "date": "2024-01-07T16:26:18.179Z",
      "description": "Подробное описание задачи",
      "status": "Без статуса"
    }
  ]
}
```

### Удалить задачу

Апи удаляет задачу.

Адрес: https://wedev-api.sky.pro/api/kanban/:id

Вместо :id нужно передать id задачи, данные которой нужно изменить. Например /kanban/64253cdbca1ce2a815a327d3

Метод: DELETE

Возвращает статус код 201 и обновленный список задач, например:

```json
{
  "tasks": [
    {
      "_id": "659ad0aad0e154bebca2b6b3",
      "userId": "659abd3ad0e154bebca2b6b7",
      "title": "Новая задача 1!",
      "topic": "Research",
      "date": "2024-01-07T16:26:18.179Z",
      "description": "Подробное описание задачи",
      "status": "Без статуса"
    }
  ]
}
