# Документация API “Лента комментариев”

В адресах этого api испольуется параметр `:personal-key`, чтобы у каждого пользователя был свой собственный список комментариев.

Для того чтобы использовать API, замените `:personal-key` на свое имя и фамилию, например мой адрес апи для получения комментов выглядит так:

```
https://webdev-hw-api.vercel.app/api/v1/gleb-fokin/comments
```

## Получить список комментариев

адрес: https://webdev-hw-api.vercel.app/api/v1/:personal-key/comments

метод: GET

Возвращает код 200 и список комментариев в формате JSON:

```json
{
  "comments": [
    {
      "id": 1,
      "date": "2023-03-10T10:11:23.237Z",
      "likes": 0,
      "isLiked": false,
      "text": "Это мой первый лайк",
      "author": { "name": "Глеб Фокин" }
    }
  ]
}
```

## Добавить новый комментарий

адрес: https://webdev-hw-api.vercel.app/api/v1/:personal-key/comments

метод: POST

В теле запроса принимает объект комментария в формате JSON:

```json
{ "text": "Текст коммента", "name": "Глеб Ф." }
```

Возвращает код 201 и объект результата:

```json
{ "result": "ok" }
```

Возвращает код 400 и объект с ошибкой в формате JSON в следующих случаях

- Имя или текст короче 3 символов
- В теле запроса не передан text или name
- В теле запроса передан не json

Пример ответа с ошибкой:

```json
{ "error": "name должен содержать хотя бы 3 символа" }
```

Если в теле запроса дополнительно передать параметр `forceError: true`, то сервер через раз будет падать с 500 ошибкой.
